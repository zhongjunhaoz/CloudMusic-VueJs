webpackJsonp([2],{F8Kd:function(t,e){},nKHw:function(t,e){},p4aG:function(t,e){},tnDH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("B9rx"),a=s("c2Ch"),i={data:function(){return{loading:!0,songName:"",searchSuggestItem:[],hasResult:!0,searchResult:[],haveResult:!0}},mounted:function(){var t=this;n.a.$on("hotSongVal",function(e){t.songName=e,t.getSearchValue(e),t.search()})},methods:{getSearchValue:function(t){var e=this;if(""==t)return this.hasResult=!1,void(this.haveResult=!1);this.hasResult=!0,this.haveResult=!0,Object(a.g)({type:"mobile",keywords:this.songName}).then(function(t){200==t.code&&(e.searchSuggestItem=[],t.result.allMatch.forEach(function(t){e.searchSuggestItem.push(t.keyword)}))})},search:function(){var t=this;Object(a.f)({keywords:this.songName,limit:30}).then(function(e){200==e.code&&(t.searchResult=[],e.result.songs.forEach(function(e){var s=[];e.artists.forEach(function(t){s.push(t.name)}),t.searchResult.push({id:e.id,name:e.name,pic:e.album.artist.img1v1Url,album:e.album.name,songer:s.join("/")})}),t.hasResult=!1)})},getSuggestName:function(t){this.songName=t,this.search()},getId:function(t){n.a.$emit("songListId",this.searchResult),n.a.$emit("musicUrl",t)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-input",{staticClass:"searchInput",attrs:{placeholder:"搜索歌曲，歌手","prefix-icon":"el-icon-search",clearable:""},on:{input:t.getSearchValue},model:{value:t.songName,callback:function(e){t.songName=e},expression:"songName"}}),t._v(" "),t._l(t.searchSuggestItem,function(e,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasResult,expression:"hasResult"}],key:n,staticClass:"search_suggest_result"},[s("i",{staticClass:"el-icon-search"}),t._v(" "),s("span",{staticClass:"text",on:{click:function(s){return t.getSuggestName(e)}}},[t._v(t._s(e))])])}),t._v(" "),t._l(t.searchResult,function(e,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.haveResult,expression:"haveResult"}],key:"result"+n,staticClass:"search_result",on:{click:function(s){return t.getId(e)}}},[s("div",{staticClass:"search_result_name"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"search_result_songer"},[t._v(t._s(e.songer)+" - "+t._s(e.album))])])})],2)},staticRenderFns:[]};var o={data:function(){return{hotSongsList:[]}},mounted:function(){this.getHotSong()},methods:{getHotSong:function(){var t=this;Object(a.b)().then(function(e){200==e.code&&e.result.hots.forEach(function(e){t.hotSongsList.push(e.first)})})},getItemVal:function(t){n.a.$emit("hotSongVal",t.target.innerHTML)}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"title"},[t._v("\n        热门搜索\n    ")]),t._v(" "),t._l(t.hotSongsList,function(e,n){return s("div",{key:n,staticClass:"hot_key_box"},[s("span",{staticClass:"hot_keys_box_item",on:{click:t.getItemVal}},[t._v(t._s(e))])])})],2)},staticRenderFns:[]};var u={components:{searchInput:s("VU/8")(i,c,!1,function(t){s("nKHw")},"data-v-ceec35c8",null).exports,hotSong:s("VU/8")(o,r,!1,function(t){s("F8Kd")},"data-v-54e4489a",null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("searchInput",{staticClass:"sinput"}),this._v(" "),e("hotSong")],1)},staticRenderFns:[]};var h=s("VU/8")(u,l,!1,function(t){s("p4aG")},"data-v-10e96cf0",null);e.default=h.exports}});
//# sourceMappingURL=2.8b8f89bef47bc7e249df.js.map